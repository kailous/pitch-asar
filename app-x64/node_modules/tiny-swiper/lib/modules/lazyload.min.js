!function(a,l){"object"==typeof exports&&"undefined"!=typeof module?module.exports=l():"function"==typeof define&&define.amd?define(l):(a=a||self).SwiperPluginLazyload=l()}(this,function(){"use strict";function a(){return(a=Object.assign||function(a){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&(a[e]=o[e])}return a}).apply(this,arguments)}function d(l,a){void 0===a&&(a=[]),Array.isArray(a)||(a=[a]),a.forEach(function(a){return!l.classList.contains(a)&&l.classList.add(a)})}function i(l,a){void 0===a&&(a=[]),Array.isArray(a)||(a=[a]),a.forEach(function(a){return l.classList.contains(a)&&l.classList.remove(a)})}return function(t){var r=t.config;r.lazyload&&(t.lazyload={load:function(a){var l=t.$list[a];if(l){var o=[].slice.call(l.getElementsByClassName(r.lazyload.elementClass)),e=[].slice.call(l.getElementsByClassName(r.lazyload.preloaderClass));o.forEach(function(a){if(a.hasAttribute("data-src")){var l=a.getAttribute("data-src");d(a,[r.lazyload.loadingClass]),i(a,[r.lazyload.loadedClass]),a.src=l,a.onload=function(){return n(a)},a.onerror=function(){return n(a)}}})}function n(a){a.removeAttribute("data-src"),d(a,[r.lazyload.loadedClass]),i(a,[r.lazyload.loadingClass]),a.onloaded=null,a.onerror=null,a.isLoaded=!0,o.every(function(a){return a.isLoaded})&&e.forEach(function(a){a.parentElement.removeChild(a)})}},loadRange:function(a,l){if(t.lazyload.load(a),r.lazyload.loadPrevNext&&1<=l)for(var o=1;o<=l;o++)t.lazyload.load(a+o),t.lazyload.load(a-o)}},t.on("before-init",function(){r.lazyload=a({loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"},r.lazyload)}),r.lazyload.loadOnTransitionStart?t.on("before-slide",function(a,l,o){l.lazyload.loadRange(o,r.lazyload.loadPrevNextAmount)}):t.on("after-slide",function(a,l){l.lazyload.loadRange(a,r.lazyload.loadPrevNextAmount)}),t.on("after-destroy",function(a){a.config.lazyload&&delete a.lazyload}))}});
